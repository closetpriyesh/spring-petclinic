pipeline {
agent any 
stages {
stage('checkout') {
steps {
echo 'Checking out!!'
git 'https://github.com/closetpriyesh/spring-petclinic.git'
}
}
stage('build') {
steps {
echo 'Building out!!'
script {
 env.PATH = "C:/Users/Priyesh_Kumar/Downloads/apache-maven-3.6.3-bin/apache-maven-3.6.3/bin;c:\\Windows\\System32"
 }
  bat label: '', script: 'mvn package'
}}

stage('archive') {
steps {
echo 'Archiving out!!'
archiveArtifacts 'target/*.jar'
}}
post {
always {
echo 'Pipeline finished'
step([$class: 'JUnitResultArchiver', testResults: '/target/surefire-reports/Test*.xml'])
}}
}
}
